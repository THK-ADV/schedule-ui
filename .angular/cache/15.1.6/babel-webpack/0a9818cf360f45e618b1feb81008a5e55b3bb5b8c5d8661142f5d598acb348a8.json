{"ast":null,"code":"import { isLecturer, isUser } from '../../models/user';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./users.service\";\nimport * as i2 from \"../../generic-ui/crud-table/crud-table.component\";\nconst _c0 = function () {\n  return {\n    active: \"lastname\",\n    direction: \"asc\"\n  };\n};\nexport class UsersComponent {\n  constructor(service) {\n    this.service = service;\n    this.headerTitle = 'Benutzer';\n    this.tooltipTitle = 'Benutzer hinzufügen';\n    this.tableContent = (u, attr) => {\n      switch (attr) {\n        case 'lastname':\n          return u.lastname;\n        case 'firstname':\n          return u.firstname;\n        case 'username':\n          return u.username;\n        case 'email':\n          return u.email;\n        case 'status':\n          return isLecturer(u) ? 'Lehrkraft' : isUser(u) ? 'Benutzer' : '???';\n        // TODO replace with status property\n        default:\n          return '???';\n      }\n    };\n    this.columns = service.columns();\n    this.filterAttrs = this.columns.map(_ => _.title);\n    this.data = service.users;\n  }\n}\nUsersComponent.ɵfac = function UsersComponent_Factory(t) {\n  return new (t || UsersComponent)(i0.ɵɵdirectiveInject(i1.UsersService));\n};\nUsersComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UsersComponent,\n  selectors: [[\"schd-users\"]],\n  decls: 1,\n  vars: 10,\n  consts: [[3, \"headerTitle\", \"tooltipTitle\", \"fetchData\", \"columns\", \"sort\", \"tableContent\", \"sortingDataAccessor\", \"useTableContentForFiltering\", \"filterAttrs\"]],\n  template: function UsersComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"schd-crud-table\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"headerTitle\", ctx.headerTitle)(\"tooltipTitle\", ctx.tooltipTitle)(\"fetchData\", ctx.data)(\"columns\", ctx.columns)(\"sort\", i0.ɵɵpureFunction0(9, _c0))(\"tableContent\", ctx.tableContent)(\"sortingDataAccessor\", ctx.tableContent)(\"useTableContentForFiltering\", true)(\"filterAttrs\", ctx.filterAttrs);\n    }\n  },\n  dependencies: [i2.CrudTableComponent]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}